{% extends "oscar/layout.html" %}
{% load i18n %}

{% block title %}
    {% trans 'Login or register' %} | {{ block.super }}
{% endblock %}

{% block styles %}
    {% include "custom_temps/loginpage/font.html" %}
    {% include "custom_temps/loginpage/login_css.html" %}
{% endblock %}

{% block layout %}
        {% if not request.GET.popup or login_form.errors or registration_form.errors %}
            <header class="header header-border">
                {# Top-horizontal bar with account, notifictions, dashboard links #}
                {% block nav_account %} {% include "oscar/partials/nav_accounts.html" %} {% endblock %}

                {# Site logo/title, mini-basket, browse dropdown and searchbox #}
                <div class="header-middle">
                    <div class="container">
                        {% block barnd %} {% include "oscar/partials/brand.html" %}{% endblock %}
                        {# Mini-basket wrapped in a block so some templates can now display it #}
                        {% block mini_basket %}{% include "oscar/partials/mini_basket.html" %}{% endblock %}
                    </div>
                </div>
                <div class="header-bottom sticky-content fix-top sticky-header">
                    <div class="container">
                        {% block navigation %}
                            {% include "oscar/partials/nav_primary.html" %}
                        {% endblock %}
                    </div>
                </div>
            </header>
            <main class="main mb-10 pb-1 login-page wishlist-page order">
                {% block page_header %}
                <div class="page-header">
                    <div class="container">
                        <h1 class="page-title mb-0">My Account</h1>
                    </div>
                </div>
                {% endblock %}

                <nav class="breadcrumb-nav container">
                {% block breadcrumbs %}
                <div class="container">
                    <ul class="breadcrumb">
                        <li><a href="{{ homepage_url }}">{% trans 'Home' %}</a></li>
                        <li>{% trans 'Login or register' %}</li>
                    </ul>
                </div>
                {% endblock %}
                </nav>

                {% block header %}{% endblock %}
                <div class="page-content mb-10 pb-2">
                    <div class="container">
        {% endif %}
                    {% block content %}
                        <div class="login-popup">
                            <div class="tab tab-nav-boxed tab-nav-center tab-nav-underline">
                                <ul class="nav nav-tabs text-uppercase" role="tablist">
                                    <li class="nav-item">
                                        <a href="#sign-in" class="nav-link active">Sign In</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#sign-up" class="nav-link">Sign Up</a>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div class="tab-pane active" id="sign-in">
                                        <form id="login_form" action="{{ request.get_full_path }}" method="post" class="card card-body bg-light" >
                                            {% csrf_token %}
                                            {% include "oscar/partials/form_fields.html" with form=login_form %}
                                            <p><a href="{% url 'password-reset' %}">{% trans "I've forgotten my password" %}</a></p>
                                            <button name="login_submit" type="submit" value="Log In" class="btn btn-primary btn-lg btn-block" data-loading-text="{% trans "Logging in..." %}">{% trans 'Log In' %}</button>
                                        </form>
                                    </div>
                                    <div class="tab-pane" id="sign-up">
                                        <form id="register_form" action="{{ request.get_full_path }}" method="post" class="card card-body bg-light">
                                            {% csrf_token %}
                                            {% include "oscar/partials/form_fields.html" with form=registration_form %}
                                        
                                        <button name="registration_submit" type="submit" value="Register" class="btn btn-primary btn-lg btn-block" data-loading-text="{% trans 'Registering...' %}">{% trans 'Register' %}</button>                            </form>
                                    </div>
                                </div>
                                <p class="text-center">Sign in with social account</p>
                                <div class="social-icons social-icon-border-color d-flex justify-content-center">
                                    <a href="#" class="social-icon social-facebook w-icon-facebook"></a>
                                    <a href="#" class="social-icon social-twitter w-icon-twitter"></a>
                                    <a href="#" class="social-icon social-google fab fa-google"></a>
                                </div>
                            </div>
                        </div>
                    {% endblock content %}
                    </div>
                </div>
            </main>
            {% include "oscar/partials/footer.html" %}
{% endblock %}
